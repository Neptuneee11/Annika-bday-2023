<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    
    <link rel="stylesheet" href="testDesign.css">
    <title> Test site </title>
</head>
<body>
    <div class="container overflow-hidden" align="center">
        <div class="row gy-15">
            <div class="col-4"> <!-- column 1-->
                <a class="fillDiv" href="#" data-bs-toggle="modal" data-bs-target="#passHere" onclick="passToModal('uno')">
                    <div class="entry_1" id="uno" >
                        <div class="d-flex align-items-center" id="goodwillMoments_container_2">
                            <div id="roseColored" class="carousel slide" data-bs-interval="false" align="center">
                                <div class="carousel-indicators">
                                    <button type="button" data-bs-target="#roseColored" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                    <button type="button" data-bs-target="#roseColored" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                </div>
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img src="pics/switchedToToteBag_1.jpg" class="d-block w-100" alt="a solution to back pain" title="a solution to back pain">
                                    </div>
                                    <div class="carousel-item">
                                        <img src="pics/switchedToToteBag_2.jpg" class="d-block w-100" alt="a solution to back pain 2" title="a solution to back pain 2">
                                    </div>
                                </div>
                                    <button class="carousel-control-prev" type="button" data-bs-target="#roseColored" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Previous</span>
                                </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#roseColored" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Next</span>
                                </button>
                            </div>
                        </div>
                        <p class="entryParagraphHead"> <b> A solution to back pain </b> </p>
                        <p class="entryParagraph"> Hope you get to fix your shoulder and back issues. I'm just relieved you're not ignoring it anymore. Hopefully you don't have to bring your laptop 
                            everyday.
                        </p>
                    </div>
                </a>
            </div>
            <div class="col-4"> <!-- column 2-->
                <a class="fillDiv" href="#" data-bs-toggle="modal" data-bs-target="#passHere" onclick="passToModal('dos')">
                    <div class="entry_2" id="dos" >
                        <img id="entryImg" src="pics/SoloPic_4.jpg" alt="RandomSelfie" title="RandomSelfie">
                        <p class="entryParagraphHead"> <b> First time magkita sa Ateneo </b> </p>
                        <p class="entryParagraph"> Think of this not as a trip down memory lane but more of a highlight reel. Andami na palang nagbago sayo but you still kept your 
                            charm. You've become more decisive and less of a pushover. 
                        </p>
                    </div>
                </a>
            </div>
            <div class="col-4"> <!-- column 3-->
                <a class="fillDiv" href="#" data-bs-toggle="modal" data-bs-target="#passHere" onclick="passToModal('tres')">
                    <div class="entry_3" id="tres">
                        <img id="entryImg" src="pics\\SoloPic_5.jpg" alt="Dinner with you" title="Dinner with you"></img>
                        <p class="entryParagraphHead"> <b> POV: What the other person sees when eating with you </b> </p>
                        <p class="entryParagraph"> You look great. Be proud of yourself. This is one of many.
                        </p>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <div class="toTheDarkDepths">
        <p> huh </p>
    </div>
    <div class="modal fade" id="passHere" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content" id="modalDialog">
                
            </div>
        </div>
    </div>
    <script>
        
        $(document).ready(function(){
            console.log("ready");
            $("#passHere").on('hide.bs.modal', function(){
                $("#modalDialog").empty()
            });
          });


        function passToModal(idPassed) {
            let inp = document.getElementById(idPassed).innerHTML;
            document.getElementById("modalDialog").innerHTML += inp;

            //check for carousels
            let divContainer = document.getElementById("modalDialog").children;

            console.log(divContainer);

            if(divContainer[0].id==="goodwillMoments_container" || divContainer[0].id==="goodwillMoments_container_2"){
                console.log("is a carousel")
                //search deeper
                divCarousel = divContainer[0].children;

                //change ID
                divCarousel[0].id = "showcase"

                //even deeper
                divChild = divCarousel[0].children;

                //change buttons' id
                divChild[2].setAttribute("data-bs-target", "#showcase");
                divChild[3].setAttribute("data-bs-target", "#showcase");

                //more deep
                divGrandChild = divChild[0].children;

                //set attribute to each grandchild
                for(var i=0; i < divGrandChild.length; i++){
                    divGrandChild[i].setAttribute("data-bs-target", "#showcase")
                    divGrandChild[i].setAttribute("data-bs-slide-to", i.toString())
                }
                
            }
        }




    </script>
</body>